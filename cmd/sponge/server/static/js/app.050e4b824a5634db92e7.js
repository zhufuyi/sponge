webpackJsonp([1],{"+N8N":function(e,t){},"0bez":function(e,t){},"5Y28":function(e,t){},"5y2L":function(e,t){},FTkk:function(e,t){},ImN1:function(e,t){},KArJ:function(e,t){},KJnc:function(e,t){},KmWh:function(e,t){},LZk3:function(e,t){},MXLi:function(e,t){},MwRp:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("7+uW"),a={name:"App",data:function(){return{isCollapse:!1,collapseSize:"300px",toggle:!1,block:!0,collapsebgcolor:"",dialogTableVisible:!1,logoImageSrc:o("hIB5"),logoImagePosition:"15%",wechatImageSrc:o("ebUW"),currentMenu:"/ui",items:[{name:"SQL",id:"1",subitem:[{name:"Web",id:"1-1",subitem:[{name:"åˆ›å»ºwebæœåŠ¡",id:"/ui/web-http"},{name:"ç”Ÿæˆhandler CRUDä»£ç ",id:"/ui/web-handler"}]},{name:"å¾®æœåŠ¡",id:"1-2",subitem:[{name:"åˆ›å»ºgrpcæœåŠ¡",id:"/ui/micro-rpc"},{name:"ç”Ÿæˆservice CRUDä»£ç ",id:"/ui/micro-service"}]}]},{name:"Protobuf",id:"2",subitem:[{name:"Web",id:"2-1",subitem:[{name:"åˆ›å»ºwebæœåŠ¡",id:"/ui/web-http-pb"},{name:"åˆ›å»ºgrpcç½‘å…³æœåŠ¡",id:"/ui/micro-rpc-gw-pb"}]},{name:"å¾®æœåŠ¡",id:"2-2",subitem:[{name:"åˆ›å»ºgrpcæœåŠ¡",id:"/ui/micro-rpc-pb"}]}]},{name:"Public",id:"3",subitem:[{name:"Yaml",id:"3-1",subitem:[{name:"ç”Ÿæˆconfigä»£ç ",id:"/ui/yaml-config"}]},{name:"Dao",id:"3-2",subitem:[{name:"ç”Ÿæˆdao CRUDä»£ç ",id:"/ui/web-dao"}]},{name:"Model",id:"3-3",subitem:[{name:"ç”Ÿæˆmodelä»£ç ",id:"/ui/web-model"}]},{name:"Protobuf",id:"3-6",subitem:[{name:"ç”Ÿæˆprotobuf CURDä»£ç ",id:"/ui/micro-protobuf"}]},{name:"RPC connection",id:"3-4",subitem:[{name:"ç”ŸæˆgrpcæœåŠ¡è¿æ¥ä»£ç ",id:"/ui/micro-rpc-conn"}]},{name:"Cache",id:"3-5",subitem:[{name:"ç”Ÿæˆcacheä»£ç ",id:"/ui/web-cache"}]}]}],languageOptions:[{value:"English",label:"English"},{value:"ç®€ä½“ä¸­æ–‡",label:"ç®€ä½“ä¸­æ–‡"}],languageValue:"ç®€ä½“ä¸­æ–‡",homeRoute:"/ui",webHttpRoute:"/ui/web-http",webHandlerRoute:"/ui/web-handler",webCacheRoute:"/ui/web-cache",webDaoRoute:"/ui/web-dao",webModelRoute:"/ui/web-model",microRPCRoute:"/ui/micro-rpc",microServiceRoute:"/ui/micro-service",microRPCConnRoute:"/ui/micro-rpc-conn",microRPCPbRoute:"/ui/micro-rpc-pb",microRPCGwPbRoute:"/ui/micro-rpc-gw-pb",microProtobufRoute:"/ui/micro-protobuf",webHTTPPbRoute:"/ui/web-http-pb",yamlConfigRoute:"/ui/yaml-config",downloadCodeRoute:"/ui/download"}},watch:{$route:function(e){this.currentMenu=e.path}},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},created:function(){"en"==localStorage.getItem("localeLanguage")?(this.$i18n.locale="en",this.languageValue="English"):(this.$i18n.locale="cn",this.languageValue="ç®€ä½“ä¸­æ–‡"),this.adaptedRouteByLanguage(),this.currentMenu=this.$route.path,window.addEventListener("resize",this.handleResize)},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(e){this.fullWidth=document.documentElement.clientWidth},handleSelect:function(e,t){},handleOpen:function(e,t){},handleClose:function(e,t){},clickHandle:function(e){},collapseStatus:function(){this.toggle=!this.toggle,this.block=!this.block,this.isCollapse=!this.isCollapse,this.isCollapse?(this.collapseSize="0px",this.logoImagePosition="0%"):(this.collapseSize="300px",this.logoImagePosition="15%")},changebgcolor:function(){this.collapsebgcolor="#66B1FF"},clearcolor:function(){this.collapsebgcolor=""},changeLanguage:function(e){this.languageValue=e,"ç®€ä½“ä¸­æ–‡"===e?(this.$i18n.locale="cn",localStorage.setItem("localeLanguage","cn")):(this.$i18n.locale="en",localStorage.setItem("localeLanguage","en")),this.adaptedRouteByLanguage(),this.$router.push(this.homeRoute),window.location.reload()},adaptedRouteByLanguage:function(){var e="";"en"==this.$i18n.locale&&(e="/en"),this.homeRoute=e+this.homeRoute.replace("/en",""),this.webHttpRoute=e+this.webHttpRoute.replace("/en",""),this.webHandlerRoute=e+this.webHandlerRoute.replace("/en",""),this.webCacheRoute=e+this.webCacheRoute.replace("/en",""),this.webDaoRoute=e+this.webDaoRoute.replace("/en",""),this.webModelRoute=e+this.webModelRoute.replace("/en",""),this.microRPCRoute=e+this.microRPCRoute.replace("/en",""),this.microRPCConnRoute=e+this.microRPCConnRoute.replace("/en",""),this.microRPCPbRoute=e+this.microRPCPbRoute.replace("/en",""),this.microRPCGwPbRoute=e+this.microRPCGwPbRoute.replace("/en",""),this.microServiceRoute=e+this.microServiceRoute.replace("/en",""),this.microProtobufRoute=e+this.microProtobufRoute.replace("/en",""),this.webHTTPPbRoute=e+this.webHTTPPbRoute.replace("/en",""),this.yamlConfigRoute=e+this.yamlConfigRoute.replace("/en",""),this.downloadCodeRoute=e+this.downloadCodeRoute.replace("/en","")},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0,this.logoImagePosition="0%"):(this.spanSize=16,this.offsetSize=4,this.logoImagePosition="15%")}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",[o("el-container",[o("el-header",{staticStyle:{height:"100px","border-bottom":"2px solid #eee"}},[o("div",{staticClass:"header-image",style:{"padding-left":e.logoImagePosition}},[o("el-image",{staticStyle:{height:"50px"},attrs:{src:e.logoImageSrc}})],1),e._v(" "),o("div",{staticClass:"menuControl",style:{"background-color":e.collapsebgcolor},on:{mouseenter:e.changebgcolor,mouseleave:e.clearcolor,click:e.collapseStatus}},[o("div",{staticStyle:{"text-align":"center","padding-top":"5px"}},[o("i",{directives:[{name:"show",rawName:"v-show",value:e.block,expression:"block"}],staticClass:"el-icon-s-fold"}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:e.toggle,expression:"toggle"}],staticClass:"el-icon-s-unfold"})])]),e._v(" "),o("div",{staticStyle:{float:"right","margin-top":"-20px"}},[o("el-select",{staticClass:"languageClass",on:{change:e.changeLanguage},model:{value:e.languageValue,callback:function(t){e.languageValue=t},expression:"languageValue"}},e._l(e.languageOptions,function(e){return o("el-option",{key:e.value,staticStyle:{"font-size":"medium"},attrs:{label:e.label,value:e.value}})}),1)],1)]),e._v(" "),o("el-container",[o("el-aside",{staticClass:"aside-menu",attrs:{width:e.collapseSize}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":"$router.currentRoute.path","default-active":e.currentMenu,collapse:e.isCollapse},on:{select:e.handleSelect,open:e.handleOpen,close:e.handleClose}},[o("el-menu-item",{attrs:{index:e.homeRoute}},[o("i",{staticClass:"el-icon-s-home"}),e._v(" "),o("span",{staticClass:"home-class",attrs:{slot:"title"},slot:"title"},[e._v("Home")])]),e._v(" "),o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-coin"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("SQL")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHttpRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webHttp"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpc"))+"\n                ")])])],2),e._v(" "),o("el-submenu",{attrs:{index:"2"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-tickets"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("Protobuf")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHTTPPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webHttpPb"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microrpcPb"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCGwPbRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpcGwPb"))+"\n                ")])])],2),e._v(" "),o("el-submenu",{attrs:{index:"3"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-suitcase"}),e._v(" "),o("span",{staticClass:"el-menu-span1",attrs:{slot:"title"},slot:"title"},[e._v("Public")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webHandlerRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.wehHandler"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microServiceRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microService"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webDaoRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webDao"))+" ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microProtobufRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microProtobuf"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webModelRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webModel"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.yamlConfigRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.yamlConfig"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.microRPCConnRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.microRpcConn"))+"\n                ")])]),e._v(" "),o("el-menu-item",{attrs:{index:e.webCacheRoute}},[o("span",{staticClass:"el-menu-span3"},[e._v(e._s(e.$t("navMenu.webCache"))+"\n                ")])])],2)],1)],1),e._v(" "),o("el-container",[o("el-main",[o("router-view")],1),e._v(" "),o("el-footer",[o("div",{staticStyle:{"text-align":"center",position:"relative"}},[o("p",{staticStyle:{"font-style":"italic","font-size":"medium",color:"#666"}},[e._v("\n                "+e._s(e.$t("footer.text1"))+"\n                "),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("\n                  starâ­")]),e._v("\n                "+e._s(e.$t("footer.text2"))+"\n                "),o("el-button",{staticStyle:{"font-size":"medium"},attrs:{type:"text"},on:{click:function(t){e.dialogTableVisible=!0}}},[e._v(e._s(e.$t("footer.text3")))])],1),e._v(" "),o("el-dialog",{attrs:{title:"åŠ å¾®ä¿¡è¿›ç¾¤",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[o("el-image",{staticStyle:{height:"320px"},attrs:{src:e.wechatImageSrc}})],1)],1)])],1)],1)],1)],1)])},staticRenderFns:[]};var l=o("VU/8")(a,i,!1,function(e){o("+N8N")},"data-v-4f1f0fa4",null).exports,s=o("/ocq"),n={name:"Home",data:function(){return{homeImageSrc:o("X4KW"),mircoServiceFrameworkImageSrc:o("qynW")}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("p",{staticStyle:{"margin-bottom":"50px","line-height":"150%"}},[o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("sponge")]),e._v("\n      æ˜¯ä¸€ä¸ªé›†æˆäº† "),o("span",{staticClass:"key-word"},[e._v("è‡ªåŠ¨ç”Ÿæˆä»£ç ")]),e._v("ã€"),o("span",{staticClass:"key-word"},[e._v("ginå’Œgrpc")]),e._v(' çš„goè¯­è¨€åŸºç¡€å¼€å‘æ¡†æ¶ã€‚spongeæ‹¥æœ‰ä¸°å¯Œçš„ç”Ÿæˆä»£ç å‘½ä»¤ï¼Œç”Ÿæˆä¸åŒçš„åŠŸèƒ½ä»£ç å¯ä»¥ç»„åˆæˆå®Œæ•´çš„æœåŠ¡(ç±»ä¼¼äººä¸ºæ‰“æ•£çš„æµ·ç»µç»†èƒå¯ä»¥è‡ªåŠ¨é‡ç»„æˆä¸€ä¸ªæ–°çš„æµ·ç»µ)ã€‚ä»£ç è§£è€¦æ¨¡å—åŒ–è®¾è®¡ï¼Œå¾ˆå®¹æ˜“æ„å»ºå‡ºä»å¼€å‘åˆ°çº¿ä¸Šéƒ¨ç½²çš„å®Œæ•´å·¥ç¨‹é¡¹ç›®ï¼Œå¼€å‘webæˆ–å¾®æœåŠ¡é¡¹ç›®è½»è€Œæ˜“ä¸¾ã€äº‹åŠåŠŸå€ï¼Œä½¿ç”¨goä¹Ÿå¯ä»¥"ä½ä»£ç å¼€å‘"ã€‚\n    ')]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text2"))),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("https://github.com/zhufuyi/sponge")])]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text3"))),o("a",{attrs:{href:"https://go-sponge.com/zh-cn/",target:"_blank"}},[e._v("https://go-sponge.com/zh-cn/")])]),e._v(" "),o("p",[e._v("\n      "+e._s(e.$t("home.text3_1"))),o("a",{attrs:{href:"https://space.bilibili.com/1440482691/channel/series",target:"_blank"}},[e._v("https://space.bilibili.com/1440482691/channel/series")])]),e._v(" "),o("br"),e._v(" "),o("p",[e._v(e._s(e.$t("home.text4")))]),e._v(" "),o("div",{staticClass:"home-image"},[o("el-image",{attrs:{src:e.homeImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p",[e._v(e._s(e.$t("home.text5")))]),e._v(" "),o("div",{staticClass:"microservices-image"},[o("el-image",{attrs:{src:e.mircoServiceFrameworkImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p")])],1)},staticRenderFns:[]};var d=o("VU/8")(n,c,!1,function(e){o("e9zl")},null,null).exports,m=o("mtWM"),u={name:"DownloadCode",data:function(){return{downloadStatusDialogVisible:!1,dialogContent:""}},methods:{execution:function(e,t,o,r){var a=this,i={path:t,arg:o};m.a.post(e,i,{responseType:"blob"}).then(function(e){var t=e.data,o=e.headers,i=o["content-disposition"],l=new Blob([t],{type:o["content-type"]}),s=document.createElement("a"),n=window.URL.createObjectURL(l);s.href=n,s.download=decodeURI(i),s.style.display="none",document.body.appendChild(s),s.click(),s.parentNode.removeChild(s),window.URL.revokeObjectURL(n),a.dialogContent=r,a.downloadStatusDialogVisible=!0}).catch(function(e){console.log(e);var t=e.response.headers;""!=t["err-msg"]?a.$message.error(t["err-msg"]):a.$message.error(e.message)})}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{staticClass:"helper-dialog",attrs:{title:"ä¸‹è½½æˆåŠŸ",visible:e.downloadStatusDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.downloadStatusDialogVisible=t}}},[o("h3",{staticStyle:{"margin-left":"30px"}},[e._v("ä½¿ç”¨å¸®åŠ©ï¼š")]),e._v(" "),o("div",{staticStyle:{padding:"10px 30px","font-size":"16px"},domProps:{innerHTML:e._s(e.dialogContent)}})])],1)},staticRenderFns:[]};var f=o("VU/8")(u,p,!1,function(e){o("MwRp")},"data-v-0c8a2652",null).exports,v=o("bOdI"),h=o.n(v),b={name:"WebHTTP",data:function(){var e;return{title:"",path:"web-http",helpInfo:'\n      <p><b>â“µåŸºäºsqlåˆ›å»ºçš„webæœåŠ¡</b>åŒ…æ‹¬äº†å¼€å‘åˆ°éƒ¨ç½²æ‰€éœ€çš„åŠŸèƒ½ï¼Œæ”¯æŒæ— ç¼æ‰¹é‡æ·»åŠ CRUD apiæ¥å£ä»£ç ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ç”Ÿæˆswaggeræ–‡æ¡£:  <b style="color: green">make docs</b></p>\n      <p>3. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>4. åœ¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a>ï¼Œæµ‹è¯•<b>å¢åˆ æ”¹æŸ¥</b>apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:(e={dsnAddr:"",dbDriver:"",tableName:[]},h()(e,"dbDriver",""),h()(e,"moduleName",""),h()(e,"serverName",""),h()(e,"projectName",""),h()(e,"repoAddr",""),h()(e,"embed",!1),e),rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],projectName:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web http --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#ff8040"}},[e._v("â“µåŸºäºsqlåˆ›å»ºwebæœåŠ¡")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          ç”Ÿæˆå®Œæ•´çš„webæœåŠ¡åç«¯ä»£ç ")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä»¥åå¦‚æœéœ€è¦æ·»åŠ æ–°çš„CRUDä»£ç ï¼Œå¯ä»¥åœ¨èœå•"),o("br"),o("b",[e._v("ã€Publicã€‘ -> ã€ç”Ÿæˆhandler CRUDä»£ç ã€‘")]),o("br"),e._v("\n              ä¸­ç”Ÿæˆä»£ç ï¼Œç„¶åç§»åŠ¨åˆ°é¡¹ç›®ä»£ç ä¸­ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é¡¹ç›®åç§°",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœåç§°åŒ…æ‹¬å¤§å†™å­—æ¯ï¼Œä¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç”¨ä¸­åˆ’çº¿åˆ†éš”ï¼Œ"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é•œåƒä»“åº“åœ°å€"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é•œåƒä»“åº“åœ°å€ï¼Œé»˜è®¤å€¼æ˜¯image-repo-hostï¼Œè¿™ä¸ªå‚æ•°ç”¨åœ¨"),o("br"),e._v("\n              æ„å»ºdockeré•œåƒã€k8sçš„éƒ¨ç½²è„šæœ¬ä¸Šï¼Œå¦‚æœä½¿ç”¨dockerå®˜æ–¹"),o("br"),e._v("\n              é•œåƒä»“åº“ï¼Œåªéœ€å¡«å†™æ³¨å†Œdockerä»“åº“çš„ç”¨æˆ·åï¼Œå¦‚æœä½¿ç”¨ç§"),o("br"),e._v("\n              æœ‰ä»“åº“åœ°å€ï¼Œéœ€è¦å¡«å†™å®Œæ•´ä»“åº“åœ°å€ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var _=o("VU/8")(b,g,!1,function(e){o("jO+a")},"data-v-6bc49143",null).exports,y={name:"WebHandler",data:function(){return{title:"ç”Ÿæˆhandler CRUDä»£ç ",path:"web-handler",helpInfo1:'\n      <p>åŸºäºsqlç”Ÿæˆçš„handlerä»£ç ï¼ŒåŒ…å«äº†å¢åˆ æ”¹æŸ¥apiæ¥å£ã€ä»»æ„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ã€ç¼“å­˜ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°ä¸€ä¸ª<b>â“µåŸºäºsqlåˆ›å»ºçš„webæœåŠ¡</b>é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤:  <b style="color: green">make docs</b></p>\n      <p>3. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>4. åœ¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a>ï¼Œæµ‹è¯•<b>å¢åˆ æ”¹æŸ¥</b>apiæ¥å£ã€‚</p>\n      ',helpInfo2:'\n      <p>åŸºäºsqlç”Ÿæˆçš„protobufå’Œhandlerä»£ç ï¼ŒåŒ…å«äº†å¢åˆ æ”¹æŸ¥apiæ¥å£ã€ä»»æ„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ã€ç¼“å­˜ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>api</b>å’Œ<b>internal</b>ç§»åŠ¨åˆ°ä¸€ä¸ª<b>â“·åŸºäºprotobufåˆ›å»ºçš„webæœåŠ¡</b>é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤:  <b style="color: green">make proto</b></p>\n      <p>3. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>4. åœ¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a>ï¼Œæµ‹è¯•<b>å¢åˆ æ”¹æŸ¥</b>apiæ¥å£ã€‚</p>\n      ',helpInfo:"",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",embed:!1,isUseInProtobuf:!1,serverName:""},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="";if(t.ruleForm.isUseInProtobuf){if(""==t.ruleForm.serverName)return t.$message.error("æœåŠ¡åç§°ä¸èƒ½ä¸ºç©º"),!1;t.helpInfo=t.helpInfo2,a="web handler-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed}else t.helpInfo=t.helpInfo1,a="web handler --module-name="+t.ruleForm.moduleName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1,isUseInProtobuf:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"medium"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),e.ruleForm.isUseInProtobuf?o("el-form-item",{attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"å¿…å¡«å­—æ®µ"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°"),o("b",[e._v("user")]),e._v("æœåŠ¡ä»£ç ç›®å½•ï¼Œåˆ™è¿™é‡Œå¡«å†™"),o("b",[e._v("user")]),e._v("ã€‚"),o("br"),e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1):e._e(),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°"),o("b",[e._v("user")]),e._v("æœåŠ¡ä»£ç ç›®å½•ï¼Œ"),o("br"),e._v("\n              è¿™é‡Œå¡«å†™"),o("b",[e._v("user")]),e._v("æœåŠ¡ç›®å½•ä¸‹go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"protobufç±»å‹"}},[o("el-switch",{model:{value:e.ruleForm.isUseInProtobuf,callback:function(t){e.$set(e.ruleForm,"isUseInProtobuf",t)},expression:"ruleForm.isUseInProtobuf"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœå…³é—­ï¼Œè¡¨ç¤ºç”Ÿæˆçš„handler\n              CRUDä»£ç åªé€‚åˆ"'),o("b",[e._v("â“µåŸºäºsqlåˆ›å»ºçš„webæœåŠ¡")]),e._v('"çš„é¡¹ç›®ä»£ç ï¼Œ'),o("br"),e._v('\n              å¦‚æœå¼€å¯ï¼Œè¡¨ç¤ºç”Ÿæˆçš„handler\n              CRUDä»£ç åªé€‚åˆ"'),o("b",[e._v("â“·åŸºäºprotobufåˆ›å»ºçš„webæœåŠ¡")]),e._v('"çš„é¡¹ç›®ä»£ç ã€‚\n            ')])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var w=o("VU/8")(y,F,!1,function(e){o("vhUg")},"data-v-27242384",null).exports,C={name:"WebCache",data:function(){return{title:"ç”Ÿæˆcacheä»£ç ",path:"web-cache",helpInfo:"\n      <p>è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",cacheName:"",prefixKey:"",keyName:"",keyType:"",valueName:"",valueType:""},rules:{moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],cacheName:[{required:!0,message:"è¯·è¾“å…¥ç¼“å­˜åç§°",trigger:"blur"}],prefixKey:[{required:!0,message:"è¯·è¾“å…¥ç¼“å­˜keyå‰ç¼€åç§°",trigger:"blur"}],keyName:[{required:!0,message:"è¯·è¾“å…¥keyåç§°",trigger:"blur"}],keyType:[{required:!0,message:"è¯·è¾“å…¥keyçš„goç±»å‹",trigger:"blur"}],valueName:[{required:!0,message:"è¯·è¾“å…¥valueåç§°",trigger:"blur"}],valueType:[{required:!0,message:"è¯·è¾“å…¥valueçš„goç±»å‹",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName)}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="web cache --module-name="+t.ruleForm.moduleName+" --cache-name="+t.ruleForm.cacheName+" --prefix-key="+t.ruleForm.prefixKey+" --key-name="+t.ruleForm.keyName+" --key-type="+t.ruleForm.keyType+" --value-name="+t.ruleForm.valueName+" --value-type="+t.ruleForm.valueType;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},S={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·è¾“å…¥moduleåç§°"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°useræœåŠ¡ä»£ç ç›®å½•ï¼Œ"),o("br"),e._v("\n              è¿™é‡Œå¡«å†™useræœåŠ¡ç›®å½•ä¸‹go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"ç¼“å­˜åç§°",prop:"cacheName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ç¤ºä¾‹ userToken"},model:{value:e.ruleForm.cacheName,callback:function(t){e.$set(e.ruleForm,"cacheName","string"==typeof t?t.trim():t)},expression:"ruleForm.cacheName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"ç¼“å­˜keyå‰ç¼€åç§°",prop:"prefixKey"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"å†’å·ç»“å°¾ï¼Œç¤ºä¾‹ user:token:"},model:{value:e.ruleForm.prefixKey,callback:function(t){e.$set(e.ruleForm,"prefixKey","string"==typeof t?t.trim():t)},expression:"ruleForm.prefixKey"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"keyåç§°",prop:"keyName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ç¤ºä¾‹ id"},model:{value:e.ruleForm.keyName,callback:function(t){e.$set(e.ruleForm,"keyName","string"==typeof t?t.trim():t)},expression:"ruleForm.keyName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"keyçš„goç±»å‹",prop:"keyType"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ç¤ºä¾‹ uint64"},model:{value:e.ruleForm.keyType,callback:function(t){e.$set(e.ruleForm,"keyType","string"==typeof t?t.trim():t)},expression:"ruleForm.keyType"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"valueåç§°",prop:"valueName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ç¤ºä¾‹ token"},model:{value:e.ruleForm.valueName,callback:function(t){e.$set(e.ruleForm,"valueName","string"==typeof t?t.trim():t)},expression:"ruleForm.valueName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"valueçš„goç±»å‹",prop:"valueType"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ç¤ºä¾‹ string"},model:{value:e.ruleForm.valueType,callback:function(t){e.$set(e.ruleForm,"valueType","string"==typeof t?t.trim():t)},expression:"ruleForm.valueType"}})],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var N=o("VU/8")(C,S,!1,function(e){o("oz9S")},"data-v-59775c54",null).exports,x={name:"WebDao",data:function(){return{title:"ç”Ÿæˆdao CRUDä»£ç ",path:"web-dao",helpInfo:"\n      <p>åŸºäºmysqlè¡¨ç”Ÿæˆdaoä»£ç ï¼ŒåŒ…å«äº†å¢åˆ æ”¹æŸ¥apiæ¥å£ã€ä»»æ„æ¡ä»¶åˆ†é¡µæŸ¥è¯¢ã€ç¼“å­˜ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      <p>2. åœ¨handleræˆ–serviceè°ƒç”¨daoä»£ç ã€‚</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",includeInitDB:!1,embed:!1},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.includeInitDB=!1,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web dao --module-name="+t.ruleForm.moduleName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed+" --include-init-db="+t.ruleForm.includeInitDB;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°"),o("b",[e._v("user")]),e._v("æœåŠ¡ä»£ç ç›®å½•ï¼Œ"),o("br"),e._v("\n              è¿™é‡Œå¡«å†™"),o("b",[e._v("user")]),e._v("æœåŠ¡ç›®å½•ä¸‹go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var z=o("VU/8")(x,D,!1,function(e){o("j/ma")},"data-v-6b817b48",null).exports,k={name:"WebModel",data:function(){return{title:"ç”ŸæˆModelä»£ç ",path:"web-model",helpInfo:"\n      <p>åŸºäºmysqlè¡¨ç”Ÿæˆå¯¹åº”gormçš„ç»“æ„ä½“ã€‚</p>\n      <br />\n      <p>è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web model --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var q=o("VU/8")(k,$,!1,function(e){o("KJnc")},"data-v-61832fe5",null).exports,A={name:"MicroRPC",data:function(){return{title:"",path:"micro-rpc",helpInfo:'\n      <p><b>â“¶åŸºäºsqlåˆ›å»ºgrpcæœåŠ¡</b>åŒ…æ‹¬äº†å¼€å‘åˆ°éƒ¨ç½²æ‰€éœ€çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬äº†mysqlè¡¨çš„å¢åˆ æ”¹æŸ¥apiæ¥å£å’Œgrpcå®¢æˆ·ç«¯æµ‹è¯•ä»£ç ã€‚åªéœ€åœ¨protoæ–‡ä»¶å®šä¹‰apiæ¥å£æè¿°ä¿¡æ¯ï¼Œç„¶ååœ¨ç”Ÿæˆçš„æ¨¡æ¿ä»£ç ç¼–å†™å…·ä½“é€»è¾‘ä»£ç ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ç”Ÿæˆapiæ¥å£æ¨¡æ¿ä»£ç ã€apiæ¥å£é”™è¯¯ç ã€grpcå®¢æˆ·ç«¯æµ‹è¯•ä»£ç ã€*pb.goä»£ç :  <b style="color: green">make proto</b></p>\n      <p>3. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>4. ä½¿ç”¨ <b>Goland</b> æˆ– <b>VS Code</b> æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/service/xxx_client_test.go</span>ï¼Œæµ‹è¯•æˆ–è€…å‹æµ‹apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],projectName:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro rpc --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},W={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#99c400"}},[e._v("â“¶åŸºäºsqlåˆ›å»ºgrpcæœåŠ¡")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          ç”Ÿæˆå®Œæ•´çš„å¾®æœåŠ¡é¡¹ç›®ä»£ç ")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä»¥åå¦‚æœéœ€è¦æ·»åŠ æ–°çš„CRUDä»£ç ï¼Œå¯ä»¥åœ¨èœå•"),o("br"),o("b",[e._v("ã€Publicã€‘ -> ã€ç”Ÿæˆservice CRUDä»£ç ã€‘")]),o("br"),e._v("ä¸­ç”Ÿæˆä»£ç ï¼Œç„¶åç§»åŠ¨åˆ°é¡¹ç›®ä»£ç ä¸­ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é¡¹ç›®åç§°",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœåç§°åŒ…æ‹¬å¤§å†™å­—æ¯ï¼Œä¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç”¨ä¸­åˆ’çº¿åˆ†éš”ï¼Œ"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é•œåƒä»“åº“åœ°å€"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é•œåƒä»“åº“åœ°å€ï¼Œé»˜è®¤å€¼æ˜¯image-repo-hostï¼Œè¿™ä¸ªå‚æ•°ç”¨åœ¨"),o("br"),e._v("\n              æ„å»ºdockeré•œåƒã€k8sçš„éƒ¨ç½²è„šæœ¬ä¸Šï¼Œå¦‚æœä½¿ç”¨dockerå®˜æ–¹"),o("br"),e._v("\n              é•œåƒä»“åº“ï¼Œåªéœ€å¡«å†™æ³¨å†Œdockerä»“åº“çš„ç”¨æˆ·åï¼Œå¦‚æœä½¿ç”¨ç§"),o("br"),e._v("\n              æœ‰ä»“åº“åœ°å€ï¼Œéœ€è¦å¡«å†™å®Œæ•´ä»“åº“åœ°å€ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var R=o("VU/8")(A,W,!1,function(e){o("nmI2")},"data-v-4c3bbf62",null).exports,P={name:"MicroRPCConn",data:function(){return{title:"ç”ŸæˆgrpcæœåŠ¡è¿æ¥ä»£ç ",path:"micro-rpc-conn",helpInfo:"\n      <p>grpcæœåŠ¡è¿æ¥ä»£ç åŒ…æ‹¬å¸¸ç”¨æœåŠ¡æ²»ç†åŠŸèƒ½ï¼Œä¾‹å¦‚æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€é™æµã€ç†”æ–­ã€é“¾è·¯è·Ÿè¸ªç­‰ã€‚</p>\n      <br />\n      <p>è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",rpcServerNames:""},rules:{moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],rpcServerNames:[{required:!0,message:"è¯·è¾“å…¥grpcæœåŠ¡åç§°",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.rpcServerNames=o.data.rpcServerNames)}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-conn --module-name="+t.ruleForm.moduleName+" --rpc-server-name="+t.ruleForm.rpcServerNames;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},j={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·è¾“å…¥moduleåç§°"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°useræœåŠ¡ä»£ç ç›®å½•ï¼Œ"),o("br"),e._v("\n              è¿™é‡Œå¡«å†™useræœåŠ¡ç›®å½•ä¸‹go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"grpcæœåŠ¡åç§°",prop:"rpcServerNames"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"æ”¯æŒå¡«å†™å¤šä¸ªgrpcæœåŠ¡åç§°"},model:{value:e.ruleForm.rpcServerNames,callback:function(t){e.$set(e.ruleForm,"rpcServerNames","string"==typeof t?t.trim():t)},expression:"ruleForm.rpcServerNames"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœæƒ³ç”Ÿæˆè¿æ¥å¤šä¸ªgrpcæœåŠ¡ä»£ç ï¼Œ"),o("br"),e._v("\n              å¤šä¸ªgrpcæœåŠ¡åç§°ä¹‹é—´ç”¨"),o("b",[e._v("é€—å·")]),e._v("åˆ†éš”ã€‚"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šuser,comment,relation\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var T=o("VU/8")(P,j,!1,function(e){o("5y2L")},"data-v-4a8dce0f",null).exports,I={name:"MicroService",data:function(){return{title:"ç”Ÿæˆservice CRUDä»£ç ",path:"micro-service",helpInfo:'\n      <p>åŸºäºsqlç”Ÿæˆçš„serviceä»£ç ï¼ŒåŒ…å«äº†mysqlè¡¨çš„å¢åˆ æ”¹æŸ¥æ–¹æ³•å’Œæµ‹è¯•ä»£ç ï¼Œæ”¯æŒåˆ†é¡µã€è¿‡æ»¤ã€æ’åºæŸ¥è¯¢ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>api</b>å’Œ<b>internal</b>ç§»åŠ¨åˆ°<b>â“¶åŸºäºsqlåˆ›å»ºgrpcæœåŠ¡</b>æˆ–è€…<b>â“¸åŸºäºprotobufåˆ›å»ºgrpcæœåŠ¡</b>çš„é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤:  <b style="color: green">make proto</b></p>\n      <p>3. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>4. ä½¿ç”¨ <b>Goland</b> æˆ– <b>VS Code</b> æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/service/xxx_client_test.go</span>ï¼Œæµ‹è¯•<b>å¢åˆ æ”¹æŸ¥</b>apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro service --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°"),o("b",[e._v("user")]),e._v("æœåŠ¡ä»£ç ç›®å½•ï¼Œåˆ™è¿™é‡Œå¡«å†™"),o("b",[e._v("user")]),e._v("ã€‚"),o("br"),e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              ä¾‹å¦‚ç”Ÿæˆçš„ä»£ç å°†è¦ç§»åŠ¨åˆ°"),o("b",[e._v("user")]),e._v("æœåŠ¡ä»£ç ç›®å½•ï¼Œ"),o("br"),e._v("\n              è¿™é‡Œå¡«å†™"),o("b",[e._v("user")]),e._v("æœåŠ¡ç›®å½•ä¸‹go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åµŒå…¥Model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              gorm.Modelç»“æ„ä½“å­—æ®µå¯¹åº”mysqlè¡¨çš„idã€created_atã€"),o("br"),e._v("\n              updated_atã€deleted_at è¿™ 4 ä¸ªåˆ—åã€‚"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å¼€å¯åµŒå…¥Modelï¼Œ"),o("br"),e._v("\n              å¦‚æœmysqlè¡¨ä¸åŒ…å«è¿™äº›åˆ—åï¼Œè¯·å…³é—­åµŒå…¥Modelã€‚\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var L=o("VU/8")(I,U,!1,function(e){o("MXLi")},"data-v-49de5f07",null).exports,M={name:"MicroProtobuf",data:function(){return{title:"ç”Ÿæˆprotobuf CURDæè¿°ä¿¡æ¯",path:"micro-protobuf",helpInfo:'\n      <p>mysqlè¡¨è½¬æ¢ä¸ºprotobufæè¿°ä¿¡æ¯ï¼Œä¸»è¦åŒ…å«å¢åˆ æ”¹æŸ¥apiæ¥å£ã€‚</p>\n      <br />\n      <p>è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>api</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ï¼Œprotoæ–‡ä»¶è¿˜æœ‰ä¸‹é¢ç”¨é€”ï¼š</p>\n      <p style="text-indent:2em;">â— ç”Ÿæˆswaggeræ–‡æ¡£ã€‚\n      <p style="text-indent:2em;">â— ä½œä¸ºprotocçš„è‡ªå®šä¹‰çš„æ’ä»¶ç”Ÿæˆéœ€è¦çš„ä»£ç ã€‚\n      <p style="text-indent:2em;">â— åˆ›å»ºwebæœåŠ¡ã€‚\n      <p style="text-indent:2em;">â— åˆ›å»ºgrpcæœåŠ¡ã€‚\n      <p style="text-indent:2em;">â— åˆ›å»ºgrpcç½‘å…³æœåŠ¡ã€‚\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",isWebProto:!1},rules:{dsnAddr:[{required:!0,message:"è¯·è¾“å…¥æ•°æ®åº“dsn",trigger:"blur"}],tableName:[{required:!0,message:"è¯·é€‰æ‹©è¡¨å",trigger:"change"}],dbDriver:[{required:!0,message:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",trigger:"blur"}],moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.isWebProto=!1,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro protobuf --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --web-type="+t.ruleForm.isWebProto;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[]}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("è·å–è¡¨åæˆåŠŸ"):t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œ"+r.msg)),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("è·å–è¡¨åå¤±è´¥ï¼Œè¯·æ£€æŸ¥"+t.ruleForm.dbDriver+" dsnåœ°å€æ˜¯å¦æ­£ç¡®ã€æˆ–è€…"+t.ruleForm.dbDriver+"æœåŠ¡æ˜¯å¦è¿è¡Œã€‚")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(å…¶ä»–)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},E={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"æ•°æ®åº“",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©æ•°æ®åº“ç±»å‹",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é€‰æ‹©æ•°æ®åº“ç±»å‹ä¹‹åï¼Œç”Ÿæˆçš„ä»£ç ä¼šè‡ªåŠ¨åŒ¹é…è¯¥æ•°æ®åº“ç±»å‹ï¼Œå…¶ä¸­tidbå…¼å®¹mysqlã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"æ•°æ®åº“dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("è·å–è¡¨å")])],1),e._v(" "),o("el-form-item",{attrs:{label:"è¡¨å",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"è¯·é€‰æ‹©è¡¨åï¼Œæ”¯æŒå¤šé€‰",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"åŒ…å«è·¯ç”±å’Œswagger"}},[o("el-switch",{model:{value:e.ruleForm.isWebProto,callback:function(t){e.$set(e.ruleForm,"isWebProto",t)},expression:"ruleForm.isWebProto"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœå¼€å¯ï¼Œç”Ÿæˆçš„protoæ–‡ä»¶åŒ…å«è·¯ç”±å’Œswaggeræè¿°ä¿¡æ¯ã€‚"),o("br"),e._v("\n              å¦‚æœå…³é—­ï¼Œåˆ™ä¸åŒ…å«è·¯ç”±å’Œswaggeræè¿°ä¿¡æ¯ã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var V=o("VU/8")(M,E,!1,function(e){o("KArJ")},"data-v-ff533b28",null).exports,B={name:"WebHTTPPb",data:function(){return{title:"",path:"web-http-pb",helpInfo:'\n      <p><b>â“·åŸºäºprotobufåˆ›å»ºçš„webæœåŠ¡</b>åŒ…æ‹¬äº†å¼€å‘åˆ°éƒ¨ç½²æ‰€éœ€è¦çš„åŠŸèƒ½ã€‚åªéœ€åœ¨protoæ–‡ä»¶å®šä¹‰apiæ¥å£æè¿°ä¿¡æ¯ï¼Œç„¶ååœ¨ç”Ÿæˆçš„æ¨¡æ¿ä»£ç ç¼–å†™å…·ä½“é€»è¾‘ä»£ç ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ç”Ÿæˆapiæ¥å£æ¨¡æ¿ä»£ç ã€apiæ¥å£é”™è¯¯ç ã€æ³¨å†Œè·¯ç”±ä»£ç ã€swaggeræ–‡æ¡£ã€*pb.goæ–‡ä»¶:  <b style="color: green">make proto</b></p>\n      <p>3. æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/handler/xxx.go</span>, æ ¹æ®æ¨¡æ¿ä»£ç ç¤ºä¾‹å¡«å……ä»£ç æ›¿æ¢ <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>5. åœ¨æµè§ˆå™¨è®¿é—® <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a>ï¼Œæµ‹è¯•apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],projectName:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],protobufFile:[{required:!0,message:"è¯·é€‰æ‹©protoæ–‡ä»¶",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "2.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "ç™»å½•",\n      description: "ä½¿ç”¨é‚®ç®±ç™»å½•",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="web http-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("ä¸‹è½½ä»£ç å¤±è´¥")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},G={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#e403a4"}},[e._v("â“·åŸºäºprotobufåˆ›å»ºwebæœåŠ¡")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          ç”Ÿæˆé€šç”¨çš„webæœåŠ¡åç«¯ä»£ç ")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"protoæ–‡ä»¶",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("æŸ¥çœ‹protoæ–‡ä»¶ç¤ºä¾‹")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("é€‰æ‹©protoæ–‡ä»¶")]),e._v("ï¼Œæ”¯æŒå¤šæ–‡ä»¶ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é¡¹ç›®åç§°",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœåç§°åŒ…æ‹¬å¤§å†™å­—æ¯ï¼Œä¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç”¨ä¸­åˆ’çº¿åˆ†éš”ï¼Œ"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é•œåƒä»“åº“åœ°å€"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é•œåƒä»“åº“åœ°å€ï¼Œé»˜è®¤å€¼æ˜¯image-repo-hostï¼Œè¿™ä¸ªå‚æ•°ç”¨åœ¨"),o("br"),e._v("\n              æ„å»ºdockeré•œåƒã€k8sçš„éƒ¨ç½²è„šæœ¬ä¸Šï¼Œå¦‚æœä½¿ç”¨dockerå®˜æ–¹"),o("br"),e._v("\n              é•œåƒä»“åº“ï¼Œåªéœ€å¡«å†™æ³¨å†Œdockerä»“åº“çš„ç”¨æˆ·åï¼Œå¦‚æœä½¿ç”¨ç§"),o("br"),e._v("\n              æœ‰ä»“åº“åœ°å€ï¼Œéœ€è¦å¡«å†™å®Œæ•´ä»“åº“åœ°å€ã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"protoæ–‡ä»¶ç¤ºä¾‹",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var H=o("VU/8")(B,G,!1,function(e){o("sLT0")},"data-v-03a228c3",null).exports,O={name:"MicroRPCPb",data:function(){return{title:"",path:"micro-rpc-pb",helpInfo:'\n      <p><b>â“¸åŸºäºprotobufåˆ›å»ºgrpcæœåŠ¡</b>åŒ…æ‹¬äº†å¼€å‘åˆ°éƒ¨ç½²æ‰€éœ€çš„åŠŸèƒ½ï¼Œåªéœ€åœ¨protoæ–‡ä»¶å®šä¹‰apiæ¥å£æè¿°ä¿¡æ¯ï¼Œç„¶ååœ¨ç”Ÿæˆçš„æ¨¡æ¿ä»£ç ç¼–å†™å…·ä½“é€»è¾‘ä»£ç ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ç”Ÿæˆapiæ¥å£æ¨¡æ¿ä»£ç ã€apiæ¥å£é”™è¯¯ç ã€rpcå®¢æˆ·ç«¯æµ‹è¯•ä»£ç ã€*pb.goæ–‡ä»¶:  <b style="color: green">make proto</b></p>\n      <p>3. æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/service/xxx.go</span>, æ ¹æ®æ¨¡æ¿ä»£ç ç¤ºä¾‹å¡«å……ä»£ç æ›¿æ¢ <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡:  <b style="color: green">make run</b></p>\n      <p>5. ä½¿ç”¨ <b>Goland</b> æˆ– <b>VS Code</b> æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/service/xxx_client_test.go</span>ï¼Œæµ‹è¯•apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],projectName:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],protobufFile:[{required:!0,message:"è¯·é€‰æ‹©protoæ–‡ä»¶",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\noption go_package = "edusys/api/user/v1;v1";\n\nservice user {\n  rpc Register(RegisterRequest) returns (RegisterReply) {}\n  rpc Login(LoginRequest) returns (LoginReply) {}\n}\n\nmessage RegisterRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage RegisterReply {\n  int64   id = 1;\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("ä¸‹è½½ä»£ç å¤±è´¥")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},K={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#2ba207"}},[e._v("â“¸åŸºäºprotobufåˆ›å»ºgrpcæœåŠ¡")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          ç”Ÿæˆé€šç”¨çš„å¾®æœåŠ¡é¡¹ç›®ä»£ç ")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"protoæ–‡ä»¶",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("æŸ¥çœ‹protoæ–‡ä»¶ç¤ºä¾‹")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("é€‰æ‹©protoæ–‡ä»¶")]),e._v("ï¼Œæ”¯æŒå¤šæ–‡ä»¶ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é¡¹ç›®åç§°",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœåç§°åŒ…æ‹¬å¤§å†™å­—æ¯ï¼Œä¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç”¨ä¸­åˆ’çº¿åˆ†éš”ï¼Œ"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é•œåƒä»“åº“åœ°å€"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é•œåƒä»“åº“åœ°å€ï¼Œé»˜è®¤å€¼æ˜¯image-repo-hostï¼Œè¿™ä¸ªå‚æ•°ç”¨åœ¨"),o("br"),e._v("\n              æ„å»ºdockeré•œåƒã€k8sçš„éƒ¨ç½²è„šæœ¬ä¸Šï¼Œå¦‚æœä½¿ç”¨dockerå®˜æ–¹"),o("br"),e._v("\n              é•œåƒä»“åº“ï¼Œåªéœ€å¡«å†™æ³¨å†Œdockerä»“åº“çš„ç”¨æˆ·åï¼Œå¦‚æœä½¿ç”¨ç§"),o("br"),e._v("\n              æœ‰ä»“åº“åœ°å€ï¼Œéœ€è¦å¡«å†™å®Œæ•´ä»“åº“åœ°å€ã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"protoæ–‡ä»¶ç¤ºä¾‹",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Q=o("VU/8")(O,K,!1,function(e){o("ImN1")},"data-v-31702217",null).exports,X={name:"MicroRPCGwPb",data:function(){return{title:"",path:"micro-rpc-gw-pb",helpInfo:'\n      <p><b>â“¹åŸºäºprotobufåˆ›å»ºçš„grpcç½‘å…³æœåŠ¡</b>åŒ…æ‹¬äº†å¼€å‘åˆ°éƒ¨ç½²æ‰€éœ€è¦çš„åŠŸèƒ½ï¼ŒæŠŠhttpè¯·æ±‚è½¬æ¢ä¸ºrpcè¯·æ±‚ã€‚</p>\n      <br />\n      <p>1. è§£å‹æ–‡ä»¶ã€‚</p>\n      <p>2. æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œå‘½ä»¤ç”Ÿæˆapiæ¥å£æ¨¡æ¿ä»£ç ã€apiæ¥å£é”™è¯¯ç ã€æ³¨å†Œè·¯ç”±ä»£ç ã€swaggeræ–‡æ¡£ã€*pb.goæ–‡ä»¶ï¼š<b style="color: green">make proto</b></p>\n      <p>3. æ‰“å¼€æ–‡ä»¶ <span style="color: chocolate">internal/service/xxx.go</span>, æ ¹æ®æ¨¡æ¿ä»£ç ç¤ºä¾‹å¡«å……ä»£ç æ›¿æ¢ <span style="color: chocolate">panic("implement me")</span></p>\n      <p>4. ç¼–è¯‘å’Œè¿è¡ŒæœåŠ¡ï¼š<b style="color: green">make run</b></p>\n      <p>5. å¤åˆ¶ <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> åˆ°æµè§ˆå™¨æµ‹è¯•apiæ¥å£ã€‚</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"è¯·è¾“å…¥go moduleåç§°",trigger:"blur"}],serverName:[{required:!0,message:"è¯·è¾“å…¥æœåŠ¡åç§°",trigger:"blur"}],projectName:[{required:!0,message:"è¯·è¾“å…¥é¡¹ç›®åç§°",trigger:"blur"}],protobufFile:[{required:!0,message:"è¯·é€‰æ‹©protoæ–‡ä»¶",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "2.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "ç™»å½•",\n      description: "ä½¿ç”¨é‚®ç®±ç™»å½•",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-gw-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("ä¸‹è½½ä»£ç å¤±è´¥")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},J={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#CF40FF"}},[e._v("â“¹åŸºäºprotobufåˆ›å»ºgrpcç½‘å…³æœåŠ¡")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("ç”Ÿæˆgrpcç½‘å…³æœåŠ¡é¡¹ç›®ä»£ç ")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"protoæ–‡ä»¶",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("æŸ¥çœ‹protoæ–‡ä»¶ç¤ºä¾‹")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("é€‰æ‹©protoæ–‡ä»¶")]),e._v("ï¼Œæ”¯æŒå¤šæ–‡ä»¶ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"æœåŠ¡åç§°",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v('\n              å¦‚æœåç§°åŒ…æ‹¬ä¸­åˆ’çº¿"-"ï¼Œä¼šè½¬æ¢ä¸ºä¸‹åˆ’çº¿"_"ï¼Œ'),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyour-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"moduleåç§°",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              go.modæ–‡ä»¶çš„moduleåç§°ã€‚\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é¡¹ç›®åç§°",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              å¦‚æœåç§°åŒ…æ‹¬å¤§å†™å­—æ¯ï¼Œä¼šè½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ç”¨ä¸­åˆ’çº¿åˆ†éš”ï¼Œ"),o("br"),e._v("\n              ç¤ºä¾‹ï¼šyourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"é•œåƒä»“åº“åœ°å€"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              é•œåƒä»“åº“åœ°å€ï¼Œé»˜è®¤å€¼æ˜¯image-repo-hostï¼Œè¿™ä¸ªå‚æ•°ç”¨åœ¨"),o("br"),e._v("\n              æ„å»ºdockeré•œåƒã€k8sçš„éƒ¨ç½²è„šæœ¬ä¸Šï¼Œå¦‚æœä½¿ç”¨dockerå®˜æ–¹"),o("br"),e._v("\n              é•œåƒä»“åº“ï¼Œåªéœ€å¡«å†™æ³¨å†Œdockerä»“åº“çš„ç”¨æˆ·åï¼Œå¦‚æœä½¿ç”¨ç§"),o("br"),e._v("\n              æœ‰ä»“åº“åœ°å€ï¼Œéœ€è¦å¡«å†™å®Œæ•´ä»“åº“åœ°å€ã€‚\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"protoæ–‡ä»¶ç¤ºä¾‹",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Y=o("VU/8")(X,J,!1,function(e){o("FTkk")},"data-v-c4e5a0c2",null).exports,Z={name:"YamlConfig",data:function(){return{title:"ç”Ÿæˆconfigä»£ç ",path:"yaml-config",helpInfo:"\n      <p>æŠŠyamlé…ç½®è½¬ä¸ºgo structï¼Œå¹¶åŒ…å«è¯»å–yamlé…ç½®çš„ä»£ç ã€‚</p>\n      <br />\n      <p>è§£å‹æ–‡ä»¶ï¼Œå°†æ–‡ä»¶å¤¹<b>internal</b>ç§»åŠ¨åˆ°é¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœé…ç½®æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™æ›¿æ¢å®ƒã€‚</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{yamlFile:""},rules:{yamlFile:[{required:!0,message:"è¯·é€‰æ‹©yamlæ–‡ä»¶",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){0==t.data.code&&(e.ruleForm.yamlFile="")}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="config --yaml-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("ä¸‹è½½ä»£ç å¤±è´¥")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.yamlFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("yamlFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.yamlFile="",this.$refs.ruleForm.validateField("yamlFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"30%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"yamlæ–‡ä»¶",prop:"yamlFile"}},[o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".yaml,.yml",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("ç‚¹å‡»é€‰æ‹©yamlæ–‡ä»¶")]),e._v("\n              æˆ–å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var te=o("VU/8")(Z,ee,!1,function(e){o("bkKN")},"data-v-6f68b11e",null).exports,oe={name:"Home",data:function(){return{homeImageSrc:o("X4KW"),mircoServiceFrameworkImageSrc:o("qynW")}}},re={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:18,offset:3}},[o("p",{staticStyle:{"margin-bottom":"50px","line-height":"150%"}},[o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("Sponge")]),e._v("\n      is a powerful golang basic development framework that integrates\n      "),o("span",{staticClass:"key-word"},[e._v("automatic code generation")]),e._v(",\n      "),o("span",{staticClass:"key-word"},[e._v("gin and grpc")]),e._v('. sponge has a wealth of\n      generating code commands, generating different functional code can be\n      combined into a complete service (similar to the way that artificially\n      broken sponge cells can automatically recombine into a new sponge). The\n      code is decoupled and modularly designed, it is easy to build a complete\n      project from development to deployment, so that you develop web or\n      microservices project easily, Go can also be "low-code development".\n    ')]),e._v(" "),o("p",[e._v("\n      Github repo:\n      "),o("a",{attrs:{href:"https://github.com/zhufuyi/sponge",target:"_blank"}},[e._v("https://github.com/zhufuyi/sponge")])]),e._v(" "),o("p",[e._v("\n      Documentation:\n      "),o("a",{attrs:{href:"https://go-sponge.com",target:"_blank"}},[e._v("https://go-sponge.com")])]),e._v(" "),o("br"),e._v(" "),o("p",[e._v("Sponge generates code framework diagrams.")]),e._v(" "),o("div",{staticClass:"home-image"},[o("el-image",{attrs:{src:e.homeImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p",[e._v("Microservice service framework diagram.")]),e._v(" "),o("div",{staticClass:"microservices-image"},[o("el-image",{attrs:{src:e.mircoServiceFrameworkImageSrc}})],1),e._v(" "),o("br"),e._v(" "),o("p")])],1)},staticRenderFns:[]};var ae=o("VU/8")(oe,re,!1,function(e){o("lF9n")},null,null).exports,ie={name:"DownloadCode",data:function(){return{downloadStatusDialogVisible:!1,dialogContent:""}},methods:{execution:function(e,t,o,r){var a=this,i={path:t,arg:o};m.a.post(e,i,{responseType:"blob"}).then(function(e){var t=e.data,o=e.headers,i=o["content-disposition"],l=new Blob([t],{type:o["content-type"]}),s=document.createElement("a"),n=window.URL.createObjectURL(l);s.href=n,s.download=decodeURI(i),s.style.display="none",document.body.appendChild(s),s.click(),s.parentNode.removeChild(s),window.URL.revokeObjectURL(n),a.dialogContent=r,a.downloadStatusDialogVisible=!0}).catch(function(e){console.log(e);var t=e.response.headers;""!=t["err-msg"]?a.$message.error(t["err-msg"]):a.$message.error(e.message)})}}},le={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{staticClass:"helper-dialog",attrs:{title:"Download successful",visible:e.downloadStatusDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.downloadStatusDialogVisible=t}}},[o("h3",{staticStyle:{"margin-left":"30px"}},[e._v("Help for use:")]),e._v(" "),o("div",{staticStyle:{padding:"10px 30px","font-size":"16px"},domProps:{innerHTML:e._s(e.dialogContent)}})])],1)},staticRenderFns:[]};var se=o("VU/8")(ie,le,!1,function(e){o("awZC")},"data-v-3f23b7f9",null).exports,ne={name:"WebHTTP",data:function(){return{title:"",path:"web-http",helpInfo:'\n      <p><b>â“µCreate web service based on sql</b> includes the functionality needed from development to deployment and supports seamless batch addition of CRUD api interface code.</p>\n      <br />\n      <p>1. unzip the file.</p>\n      <p>2. open a terminal and execute the command to generate the swagger documentation:   <b style="color: green">make docs</b></p>\n      <p>3. compile and run services:   <b style="color: green">make run</b></p>\n      <p>4. Visit <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> in your browser and test the <b>CRUD</b> api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web http --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},ce={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:0}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#ff8040"}},[e._v("â“µCreate web service based on sql")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          generate complete web service backend code")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If you need to add new CRUD code in the future,"),o("br"),e._v("\n              after which you can generate code in the menu"),o("br"),e._v(" "),o("b",[e._v("[Public] -> [Generate Handler CRUD Code]")]),e._v(","),o("br"),e._v("\n              and then moved to the project code.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains uppercase letters, they will be"),o("br"),e._v("\n              converted to lowercase and separated by underscores."),o("br"),e._v("\n              example: yourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var de=o("VU/8")(ne,ce,!1,function(e){o("RFzB")},"data-v-274b94b2",null).exports,me={name:"WebHandler",data:function(){return{title:"Generate handler CRUD code",path:"web-handler",helpInfo1:'\n      <p>Generate handler code based on sql, contains CRUD api interface, arbitrary condition paging query, caching.</p>\n      <br />\n      <p>1. Unzip the file, move the folder folders <b>internal</b> to a sql based create web service project code folder.</p>\n      <p>2. open a terminal and execute the command:  <b style="color: green">make docs</b></p>\n      <p>3. compile and run services:   <b style="color: green">make run</b></p>\n      <p>4. Visit <a href="http://localhost:8080/swagger/index.html" target="_blank">http://localhost:8080/swagger/index.html</a> in your browser and test the <b>CRUD</b> api interface.</p>\n      ',helpInfo2:'\n      <p>Generate protobuf and handler code based on sql, contains CRUD api interface, arbitrary condition paging query, caching.</p>\n      <br />\n      <p>1. Unzip the file, move the folders <b>api</b> and <b>internal</b> to a protobuf based create web service project code folder.</p>\n      <p>2. open a terminal and execute the command:  <b style="color: green">make proto</b></p>\n      <p>3. compile and run services:  <b style="color: green">make run</b></p>\n      <p>4. Visit <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> in your browser and test the <b>CRUD</b> api interface.</p>\n      ',helpInfo:"",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",embed:!1,isUseInProtobuf:!1,serverName:""},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="";if(t.ruleForm.isUseInProtobuf){if(""==t.ruleForm.serverName)return t.$message.error("æœåŠ¡åç§°ä¸èƒ½ä¸ºç©º"),!1;t.helpInfo=t.helpInfo2,a="web handler-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed}else t.helpInfo=t.helpInfo1,a="web handler --module-name="+t.ruleForm.moduleName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1,isUseInProtobuf:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},ue={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),e.ruleForm.isUseInProtobuf?o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"required field"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, if the generated code is to be moved to the\n              "),o("b",[e._v("user")]),o("br"),e._v("\n              service code directory, fill in "),o("b",[e._v("user")]),e._v(" here."),o("br"),e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1):e._e(),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, the generated code will be"),o("br"),e._v("\n              moved to the "),o("b",[e._v("user")]),e._v(" service code directory,"),o("br"),e._v("\n              here you fill in the name of the module in"),o("br"),e._v("\n              the go.mod file in the "),o("b",[e._v("user")]),e._v(" service directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"protobuf type"}},[o("el-switch",{model:{value:e.ruleForm.isUseInProtobuf,callback:function(t){e.$set(e.ruleForm,"isUseInProtobuf",t)},expression:"ruleForm.isUseInProtobuf"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If it is disable, it means that the generated handler CRUD code\n              is only suitable for"),o("br"),e._v('\n              the project code of "â“µCreate web service based on sql".'),o("br"),e._v("\n              If it is enable, it means that the generated handler CRUD code\n              is only suitable for"),o("br"),e._v('\n              the project code of "â“·Create web service based on protobuf".\n            ')])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var pe=o("VU/8")(me,ue,!1,function(e){o("LZk3")},"data-v-4f6e0d08",null).exports,fe={name:"WebCache",data:function(){return{title:"generate cache code",path:"web-cache",helpInfo:"\n      <p>Move the folder <b>internal</b> to your project code folder.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",cacheName:"",prefixKey:"",keyName:"",keyType:"",valueName:"",valueType:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],cacheName:[{required:!0,message:"please type the cache name",trigger:"blur"}],prefixKey:[{required:!0,message:"please type the cache key prefix name",trigger:"blur"}],keyName:[{required:!0,message:"please type the key name",trigger:"blur"}],keyType:[{required:!0,message:"please type the go type of key",trigger:"blur"}],valueName:[{required:!0,message:"please type the value name",trigger:"blur"}],valueType:[{required:!0,message:"please type the go type of value",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName)}).catch(function(e){})},components:{DownloadCode:f},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="web cache --module-name="+t.ruleForm.moduleName+" --cache-name="+t.ruleForm.cacheName+" --prefix-key="+t.ruleForm.prefixKey+" --key-name="+t.ruleForm.keyName+" --key-type="+t.ruleForm.keyType+" --value-name="+t.ruleForm.valueName+" --value-type="+t.ruleForm.valueType;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},ve={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please type the name of the module"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, the generated code will be"),o("br"),e._v("\n              moved to the user service code directory,"),o("br"),e._v("\n              here you fill in the name of the module in"),o("br"),e._v("\n              the go.mod file in the user service directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"cache name",prop:"cacheName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"e.g. userToken"},model:{value:e.ruleForm.cacheName,callback:function(t){e.$set(e.ruleForm,"cacheName","string"==typeof t?t.trim():t)},expression:"ruleForm.cacheName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"cache key prefix name",prop:"prefixKey"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"ending in a colon, e.g. user:token:"},model:{value:e.ruleForm.prefixKey,callback:function(t){e.$set(e.ruleForm,"prefixKey","string"==typeof t?t.trim():t)},expression:"ruleForm.prefixKey"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"key name",prop:"keyName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"e.g. id"},model:{value:e.ruleForm.keyName,callback:function(t){e.$set(e.ruleForm,"keyName","string"==typeof t?t.trim():t)},expression:"ruleForm.keyName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"key type",prop:"keyType"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"the go type of key, e.g. uint64"},model:{value:e.ruleForm.keyType,callback:function(t){e.$set(e.ruleForm,"keyType","string"==typeof t?t.trim():t)},expression:"ruleForm.keyType"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"value name",prop:"valueName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"e.g. token"},model:{value:e.ruleForm.valueName,callback:function(t){e.$set(e.ruleForm,"valueName","string"==typeof t?t.trim():t)},expression:"ruleForm.valueName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"value type",prop:"valueType"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"the go type of value, e.g. string"},model:{value:e.ruleForm.valueType,callback:function(t){e.$set(e.ruleForm,"valueType","string"==typeof t?t.trim():t)},expression:"ruleForm.valueType"}})],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("é‡ç½®")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("ä¸‹è½½ä»£ç ")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var he=o("VU/8")(fe,ve,!1,function(e){o("5Y28")},"data-v-3243803b",null).exports,be={name:"WebDao",data:function(){return{title:"Generate dao CRUD code",path:"web-dao",helpInfo:"\n      <p>Generate dao code based on mysql tables, contains CRUD api interface, arbitrary condition paging query, caching. </p>\n      <br />\n      <p>1. move the folder <b>internal</b> to your project code folder.</p>\n      <p>2. invoke dao code in handler or service.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",includeInitDB:!1,embed:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.includeInitDB=!1,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web dao --module-name="+t.ruleForm.moduleName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed+" --include-init-db="+t.ruleForm.includeInitDB;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},ge={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, the generated code will be"),o("br"),e._v("\n              moved to the "),o("b",[e._v("user")]),e._v(" service code directory,"),o("br"),e._v("\n              here you fill in the name of the module in"),o("br"),e._v("\n              the go.mod file in the "),o("b",[e._v("user")]),e._v(" service directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var _e=o("VU/8")(be,ge,!1,function(e){o("QnW+")},"data-v-a6e58d1c",null).exports,ye={name:"WebModel",data:function(){return{title:"Generate Model Code",path:"web-model",helpInfo:"\n      <p>Generate structures corresponding to gorm based on mysql tables.</p>\n      <br />\n      <p>Move the folder <b>internal</b> to your project code folder.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="web model --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},Fe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var we=o("VU/8")(ye,Fe,!1,function(e){o("s85v")},"data-v-0453db68",null).exports,Ce={name:"MicroRPC",data:function(){return{title:"",path:"micro-rpc",helpInfo:'\n      <p><b>â“¶Create grpc service based on sql</b> includes the functions required for development and deployment, including the api interface for adding, deleting, modifying and querying mysql tables and grpc client test code. Simply define the api interface description information in the proto file and then write the specific logic code in the generated template code.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute the command to generate API template code, API error code, grpc client test code, and * pb.go code:  <b style="color: green">make proto</b></p>\n      <p>3. compile and run services:   <b style="color: green">make run</b></p>\n      <p>4. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, test or pressure test the api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",projectName:"",repoAddr:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro rpc --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},Se={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#89ae06"}},[e._v("â“¶Create grpc service based on sql")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          generate complete microservices project code")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If you need to add new CRUD code in the future,"),o("br"),e._v("\n              after which you can generate code in the menu"),o("br"),e._v(" "),o("b",[e._v("[Public] -> [generate service CRUD code]")]),e._v(","),o("br"),e._v("\n              and then moved to the project code.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains uppercase letters, they will be"),o("br"),e._v("\n              converted to lowercase and separated by underscores."),o("br"),e._v("\n              example: yourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var Ne=o("VU/8")(Ce,Se,!1,function(e){o("QRi+")},"data-v-4967720d",null).exports,xe={name:"MicroRPCConn",data:function(){return{title:"Generate grpc connection code",path:"micro-rpc-conn",helpInfo:"\n      <p>The grpc service connection code includes common service governance features such as service discovery, load balancing, flow limiting, melting, link tracing, etc.</p>\n      <br />\n      <p>Unzip the file and move the folder <b>internal</b> to your project code folder.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{moduleName:"",rpcServerNames:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],rpcServerNames:[{required:!0,message:"please type the name of the grpc service",trigger:"blur"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.rpcServerNames=o.data.rpcServerNames)}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-conn --module-name="+t.ruleForm.moduleName+" --rpc-server-name="+t.ruleForm.rpcServerNames;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)})},clearFormData:function(){this.ruleForm={}},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},De={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please type the name of the module"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, the generated code will be"),o("br"),e._v("\n              moved to the user service code directory,"),o("br"),e._v("\n              here you fill in the name of the module in"),o("br"),e._v("\n              the go.mod file in the user service directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"grpc service name",prop:"rpcServerNames"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multiple grpc services support"},model:{value:e.ruleForm.rpcServerNames,callback:function(t){e.$set(e.ruleForm,"rpcServerNames","string"==typeof t?t.trim():t)},expression:"ruleForm.rpcServerNames"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If you want to generate code to connect multiple grpc\n              services,"),o("br"),e._v("\n              grpc service names are separated by commas."),o("br"),e._v("\n              example: service1,service2,service3\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var ze=o("VU/8")(xe,De,!1,function(e){o("KmWh")},"data-v-6038c80c",null).exports,ke={name:"MicroService",data:function(){return{title:"Generate service CRUD code",path:"micro-service",helpInfo:'\n      <p>Generate service code based on sql, including mysql table adding, deleting and checking methods and test code, supporting paging, filtering and sorting queries.</p>\n      <br />\n      <p>1. unzip the code file</p>\n      <p>2. Move the folders <b>api</b> and <b>internal</b> to your grpc service code folder.</p>\n      <p>3. open a terminal and execute the command:  <b style="color: green">make proto</b></p>\n      <p>4. compile and run services:   <b style="color: green">make run</b></p>\n      <p>5. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, test the CRUD api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",embed:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro service --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --embed="+t.ruleForm.embed;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[],embed:!1}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table name success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},$e={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, if the generated code is to be moved to the\n              "),o("b",[e._v("user")]),o("br"),e._v("\n              service code directory, fill in "),o("b",[e._v("user")]),e._v(" here."),o("br"),e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              For example, the generated code will be"),o("br"),e._v("\n              moved to the "),o("b",[e._v("user")]),e._v(" service code directory,"),o("br"),e._v("\n              here you fill in the name of the module in"),o("br"),e._v("\n              the go.mod file in the "),o("b",[e._v("user")]),e._v(" service directory.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"embed model"}},[o("el-switch",{model:{value:e.ruleForm.embed,callback:function(t){e.$set(e.ruleForm,"embed",t)},expression:"ruleForm.embed"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              The gorm.Model struct field corresponds to the four column names\n              "),o("br"),e._v("\n              id, created_at, updated_at, and deleted_at in the MySQL table.\n              "),o("br"),e._v("\n              If the MySQL table contains these column names, enable it."),o("br"),e._v("\n              If the MySQL table does not contain these column names, disable\n              it.\n            ")])])],1)],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}}),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var qe=o("VU/8")(ke,$e,!1,function(e){o("t3x0")},"data-v-55716a01",null).exports,Ae={name:"MicroProtobuf",data:function(){return{title:"Generate protobuf CRUD description information",path:"micro-protobuf",helpInfo:'\n      <p>mysql table converted to protobuf description information, mainly contains CRUD api interface.</p>\n      <br />\n      <p>move the folder <b>api</b> to your project code folder, the proto file is also used for the following purposes.: </p>\n      <p style="text-indent:2em;">â— generate swagger documents.\n      <p style="text-indent:2em;">â— generate the required code as a custom plug-in for protoc.\n      <p style="text-indent:2em;">â— create web services.\n      <p style="text-indent:2em;">â— create microservices.\n      <p style="text-indent:2em;">â— create grpc gateway services.\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,ruleForm:{dsnAddr:"",tableName:[],dbDriver:"",moduleName:"",serverName:"",isWebProto:!1},rules:{dsnAddr:[{required:!0,message:"please type the mysql dsn address",trigger:"blur"}],tableName:[{required:!0,message:"please select a table name",trigger:"change"}],dbDriver:[{required:!0,message:"please select a database type",trigger:"change"}],moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}]},tableNames:[],dbDriverNames:[{label:"mysql",value:"mysql"},{label:"postgresql",value:"postgresql"},{label:"tidb",value:"tidb"}]}},created:function(){var e=this;this.adaptiveWindows(),this.listDbDrivers();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.dsnAddr=o.data.dsn,e.ruleForm.dbDriver=o.data.dbDriver,e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.isWebProto=!1,e.listTables(!1))}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=appConfig.spongeServiceAddr+"/generate",r=t.ruleForm.tableName.join(","),a="micro protobuf --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --db-driver="+t.ruleForm.dbDriver+" --db-dsn="+t.ruleForm.dsnAddr+" --db-table="+r+" --web-type="+t.ruleForm.isWebProto;t.$refs.downloadCode.execution(o,t.path,a,t.helpInfo)})},clearFormData:function(){this.tableNames=[],this.ruleForm={tableName:[]}},listTables:function(e){var t=this;if(""!=this.ruleForm.dsnAddr){var o=appConfig.spongeServiceAddr+"/listTables",r={dsn:this.ruleForm.dsnAddr,dbDriver:this.ruleForm.dbDriver};m.a.post(o,r,{timeout:3e3}).then(function(o){var r=o.data;e&&(0==r.code?t.$message.success("Get table names success"):t.$message.error("Failed to get table name")),t.tableNames=r.data}).catch(function(o){e&&t.$message.error("Failed to get table name, please check if "+t.ruleForm.dbDriver+"  dsn address is correct or "+t.ruleForm.dbDriver+" service is running.")})}},listDbDrivers:function(){var e=this,t=appConfig.spongeServiceAddr+"/listDrivers";m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.dbDriverNames=o.data)}).catch(function(e){})},selectBlur:function(e){""!==e.target.value&&(this.value=e.target.value+"(other)",this.$forceUpdate())},selectClear:function(){this.value="",this.$forceUpdate()},selectChange:function(e){this.value=e,this.$forceUpdate()},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},We={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"database",prop:"dbDriver"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"please select database type",clearable:"",filterable:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.dbDriver,callback:function(t){e.$set(e.ruleForm,"dbDriver",t)},expression:"ruleForm.dbDriver"}},e._l(e.dbDriverNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              After selecting the database type, the generated code will\n              automatically match that database type, where tidb is compatible\n              with mysql.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"database dsn",prop:"dsnAddr"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"user:password@(127.0.0.1:3306)/db_name"},model:{value:e.ruleForm.dsnAddr,callback:function(t){e.$set(e.ruleForm,"dsnAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.dsnAddr"}}),e._v(" "),o("el-link",{staticStyle:{"margin-left":"10px","font-size":"16px"},attrs:{type:"primary"},on:{click:function(t){return e.listTables(!0)}}},[e._v("get tables")])],1),e._v(" "),o("el-form-item",{attrs:{label:"table name",prop:"tableName"}},[o("el-select",{staticStyle:{width:"80%","font-size":"medium"},attrs:{placeholder:"multi-selection support",clearable:"",filterable:"",multiple:""},on:{blur:e.selectBlur,clear:e.selectClear,change:e.selectChange},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}},e._l(e.tableNames,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"include route and swagger"}},[o("el-switch",{model:{value:e.ruleForm.isWebProto,callback:function(t){e.$set(e.ruleForm,"isWebProto",t)},expression:"ruleForm.isWebProto"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If enabled, the generated proto file include the route and\n              "),o("br"),e._v("\n              swagger description information."),o("br"),e._v("\n              if disable, route and swagger description information are not\n              include.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var Re=o("VU/8")(Ae,We,!1,function(e){o("0bez")},"data-v-8b580e06",null).exports,Pe={name:"WebHTTPPb",data:function(){return{title:"",path:"web-http-pb",helpInfo:'\n      <p><b>â“·Create web service based on protobuf</b> includes the functionality needed from development to deployment. Simply define the api interface description information in the proto file and then write the specific logic code in the generated template code.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute commands to generate api interface template code, api interface error code, registration route code, swagger document, *pb.go file: <b style="color: green">make proto</b></p>\n      <p>3. open file <span style="color: chocolate">internal/handler/xxx.go</span>, replace <span style="color: chocolate">panic("implement me")</span> according to template code example.</p>\n      <p>4. compile and run services:   <b style="color: green">make run</b></p>\n      <p>5. Visit <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> in your browser and test api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select a proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "2.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "login",\n      description: "login with email",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="web http-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},je={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#e403a4"}},[e._v("â“·Create web service based on protobuf")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          generate generic web service backend code")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("select proto file")]),e._v(", multi-file support.\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains uppercase letters, they will be"),o("br"),e._v("\n              converted to lowercase and separated by underscores."),o("br"),e._v("\n              example: yourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Te=o("VU/8")(Pe,je,!1,function(e){o("s5ey")},"data-v-2eff7835",null).exports,Ie={name:"MicroRPCPb",data:function(){return{title:"",path:"micro-rpc-pb",helpInfo:'\n      <p><b>â“¸Create grpc service based on protobuf</b> includes the functionality needed from development to deployment. Simply define the api interface description information in the proto file and then write the specific logic code in the generated template code.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. Open a terminal and execute commands to generate api interface template code, api interface error code, grpc client test code, and *pb.go file:   <b style="color: green">make proto</b></p>\n      <p>3. open file <span style="color: chocolate">internal/service/xxx.go</span>, replace <span style="color: chocolate">panic("implement me")</span> according to template code example.</p>\n      <p>4. compile and run services:   <b style="color: green">make run</b></p>\n      <p>5. open the file using <b>Goland</b> or <b>VS Code</b> <span style="color: chocolate">internal/service/xxx_client_test.go</span>, test api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select a proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\noption go_package = "edusys/api/user/v1;v1";\n\nservice user {\n  rpc Register(RegisterRequest) returns (RegisterReply) {}\n  rpc Login(LoginRequest) returns (LoginReply) {}\n}\n\nmessage RegisterRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage RegisterReply {\n  int64   id = 1;\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},Ue={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#2ba207"}},[e._v("â“¸Create grpc service based on protobuf")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          generate generic microservice project code")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("select proto file")]),e._v(", multi-file support.\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains uppercase letters, they will be"),o("br"),e._v("\n              converted to lowercase and separated by underscores."),o("br"),e._v("\n              example: yourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Le=o("VU/8")(Ie,Ue,!1,function(e){o("ooM6")},"data-v-33a7ffb6",null).exports,Me={name:"MicroRPCGwPb",data:function(){return{title:"",path:"micro-rpc-gw-pb",helpInfo:'\n      <p><b>â“¹Create grpc gateway service based on protobuf</b> includes the functionality needed from development to deployment, converting http requests to grpc requests.</p>\n      <br />\n      <p>1. unzip the code file.</p>\n      <p>2. open a terminal and execute commands to generate api interface template code, api interface error code, registration route code, swagger document, *pb.go file: <b style="color: green">make proto</b></p>\n      <p>3. open <span style="color: chocolate">internal/service/xxx.go</span> file, replace <span style="color: chocolate">panic("implement me")</span> according to template code example. </p>\n      <p>4. compile and run services.<b style="color: green">make run</b></p>\n      <p>5. visit <a href="http://localhost:8080/apis/swagger/index.html" target="_blank">http://localhost:8080/apis/swagger/index.html</a> in your browser, and test api interface.</p>\n      ',labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{moduleName:"",serverName:"",projectName:"",repoAddr:"",protobufFile:""},rules:{moduleName:[{required:!0,message:"please type the name of the go module",trigger:"blur"}],serverName:[{required:!0,message:"please type the name of the service",trigger:"blur"}],projectName:[{required:!0,message:"please type the project name",trigger:"blur"}],protobufFile:[{required:!0,message:"please select a proto file",trigger:"change"}]},showProtoDemoDialogVisible:!1,protoDemoContent:'syntax = "proto3";\n\npackage api.edusys.v1;\n\nimport "google/api/annotations.proto";\nimport "protoc-gen-openapiv2/options/annotations.proto";\n\noption go_package = "edusys/api/user/v1;v1";\n\noption (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_swagger) = {\n  host: "localhost:8080"\n  base_path: ""\n  info: {\n    title: "user api docs";\n    version: "2.0";\n  };\n  schemes: HTTP;\n  schemes: HTTPS;\n  consumes: "application/json";\n  produces: "application/json";\n};\n\nservice user {\n  rpc Login(LoginRequest) returns (LoginReply) {\n    option (google.api.http) = {\n      post: "/api/v1/login"\n      body: "*"\n    };\n    option (grpc.gateway.protoc_gen_openapiv2.options.openapiv2_operation) = {\n      summary: "login",\n      description: "login with email",\n    };\n  }\n}\n\nmessage LoginRequest {\n  string email = 1;\n  string password = 2;\n}\n\nmessage LoginReply {\n  string token = 1;\n}'}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){var o=t.data;0==o.code&&(e.ruleForm.moduleName=o.data.moduleName,e.ruleForm.serverName=o.data.serverName,e.ruleForm.projectName=o.data.projectName,e.ruleForm.repoAddr=o.data.repoAddr,e.ruleForm.protobufFile="")}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="micro rpc-gw-pb --module-name="+t.ruleForm.moduleName+" --server-name="+t.ruleForm.serverName+" --project-name="+t.ruleForm.projectName+" --repo-addr="+t.ruleForm.repoAddr+" --protobuf-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.protobufFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("protobufFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.protobufFile="",this.$refs.ruleForm.validateField("protobufFile"))},showProtoFileDemo:function(){this.showProtoDemoDialogVisible=!0},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},Ee={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",[o("span",{staticStyle:{color:"#CF40FF"}},[e._v("â“¹Create grpc gateway service based on protobuf")]),e._v(" "),o("span",{staticStyle:{color:"#777","font-weight":"normal"}},[e._v("\n          generate grpc gateway service project code")])])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"25%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"proto file",prop:"protobufFile"}},[o("el-link",{staticStyle:{"margin-left":"10%","padding-bottom":"5px","font-size":"16px"},attrs:{type:"primary"},on:{click:e.showProtoFileDemo}},[e._v("View an example of a proto file")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",multiple:"",accept:".proto",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("select proto file")]),e._v(", multi-file support.\n            ")])])],1),e._v(" "),o("el-form-item",{staticStyle:{"margin-top":"50px"},attrs:{label:"service name",prop:"serverName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.serverName,callback:function(t){e.$set(e.ruleForm,"serverName","string"==typeof t?t.trim():t)},expression:"ruleForm.serverName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains hyphens, they will be converted to\n              underscores."),o("br"),e._v("\n              example: your-service ğŸ¡† your_service\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"module name",prop:"moduleName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.moduleName,callback:function(t){e.$set(e.ruleForm,"moduleName","string"==typeof t?t.trim():t)},expression:"ruleForm.moduleName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              module name for go.mod file.\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"project name",prop:"projectName"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.projectName,callback:function(t){e.$set(e.ruleForm,"projectName","string"==typeof t?t.trim():t)},expression:"ruleForm.projectName"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              If the name contains uppercase letters, they will be"),o("br"),e._v("\n              converted to lowercase and separated by underscores."),o("br"),e._v("\n              example: yourProject ğŸ¡† your-project\n            ")])])],1),e._v(" "),o("el-form-item",{attrs:{label:"docker repository address"}},[o("el-input",{staticStyle:{width:"80%","font-size":"medium"},model:{value:e.ruleForm.repoAddr,callback:function(t){e.$set(e.ruleForm,"repoAddr","string"==typeof t?t.trim():t)},expression:"ruleForm.repoAddr"}}),e._v(" "),o("el-tooltip",{staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{effect:"light",placement:"top"}},[o("i",{staticClass:"el-icon-question"}),e._v(" "),o("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v("\n              Image repository address, the default value is\n              image-repo-host,"),o("br"),e._v("\n              this parameter is used to build docker images, k8s deployment"),o("br"),e._v("\n              scripts, if you use the official docker image repository,\n              just"),o("br"),e._v("\n              fill in the user name of the registered docker repository, if"),o("br"),e._v("\n              you use the private repository address, you need to fill in\n              the"),o("br"),e._v("\n              full repository address.\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{size:"default"},on:{click:e.clearFormData}},[e._v("Reset")]),e._v(" "),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1),e._v(" "),o("el-dialog",{attrs:{title:"Example of a proto file",visible:e.showProtoDemoDialogVisible,width:"66%",center:""},on:{"update:visible":function(t){e.showProtoDemoDialogVisible=t}}},[o("div",{staticClass:"showProtoDemoDiv"},[o("pre",[e._v(e._s(e.protoDemoContent))])])])],1)],1)},staticRenderFns:[]};var Ve=o("VU/8")(Me,Ee,!1,function(e){o("jx/k")},"data-v-89eef4f6",null).exports,Be={name:"YamlConfig",data:function(){return{title:"Generate config code",path:"yaml-config",helpInfo:"\n      <p>Converts a yaml configuration to a go struct and includes code to read the yaml configuration.</p>\n      <br />\n      <p>Move the folder <b>internal</b> to your project code folder, if the configuration code already exists, replace it.</p>\n      ",labelPosition:"right",windowWidth:document.documentElement.clientWidth,spanSize:16,offsetSize:4,fileList:[],ruleForm:{yamlFile:""},rules:{yamlFile:[{required:!0,message:"please select a yaml file",trigger:"change"}]}}},created:function(){var e=this;this.adaptiveWindows();var t=appConfig.spongeServiceAddr+"/record/"+this.path;m.a.get(t).then(function(t){0==t.data.code&&(e.ruleForm.yamlFile="")}).catch(function(e){})},components:{DownloadCode:se},mounted:function(){var e=this;window.onresize=function(){e.$nextTick(function(){e.adaptiveWindows()})}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var o=new FormData;t.fileList.forEach(function(e){o.append("files",e.raw)});var r=appConfig.spongeServiceAddr+"/uploadFiles";m.a.post(r,o).then(function(e){if(0==e.data.code){var o=appConfig.spongeServiceAddr+"/generate",r="config --yaml-file="+e.data.data;t.$refs.downloadCode.execution(o,t.path,r,t.helpInfo)}else t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("failed to download code")})})},clearFormData:function(){this.fileList=[],this.ruleForm={}},handleOnchange:function(e,t){this.ruleForm.yamlFile=e.name,this.fileList=t,0!==t.length&&this.$refs.ruleForm.validateField("yamlFile")},handleOnRemove:function(e,t){this.fileList=t,0===t.length&&(this.ruleForm.yamlFile="",this.$refs.ruleForm.validateField("yamlFile"))},adaptiveWindows:function(){this.windowWidth=document.documentElement.clientWidth,this.windowWidth<900?(this.spanSize=24,this.offsetSize=0):this.windowWidth<=1200?(this.spanSize=18,this.offsetSize=3):(this.spanSize=16,this.offsetSize=4)}}},Ge={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:e.spanSize,offset:e.offsetSize}},[o("div",{staticClass:"title"},[o("h3",{staticStyle:{color:"#666"}},[e._v(e._s(e.title))])]),e._v(" "),o("div",{staticClass:"form-style"},[o("el-form",{ref:"ruleForm",attrs:{"label-position":e.labelPosition,"label-width":"30%",model:e.ruleForm,rules:e.rules}},[o("el-form-item",{attrs:{label:"yaml file",prop:"yamlFile"}},[o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",accept:".yaml,.yml",action:"#","auto-upload":!1,"on-change":e.handleOnchange,"on-remove":e.handleOnRemove,"file-list":e.fileList}},[o("i",{staticClass:"el-icon-upload"}),e._v(" "),o("div",{staticClass:"el-upload__text"},[o("em",[e._v("Click to select a yaml file")]),o("br"),e._v("\n              or drag and drop the file here\n            ")])])],1),e._v(" "),o("div",{staticStyle:{margin:"30px auto"}})],1),e._v(" "),o("div",{staticClass:"conform-btns"},[o("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Download code")]),e._v(" "),o("DownloadCode",{ref:"downloadCode"})],1)],1)])],1)},staticRenderFns:[]};var He=o("VU/8")(Be,Ge,!1,function(e){o("kwe5")},"data-v-8d28c78e",null).exports;r.default.use(s.a);var Oe=new s.a({mode:"history",routes:[{path:"*",redirect:"/ui"},{path:"/ui",component:d},{path:"/ui/web-http",component:_},{path:"/ui/web-handler",component:w},{path:"/ui/web-cache",component:N},{path:"/ui/web-dao",component:z},{path:"/ui/web-model",component:q},{path:"/ui/micro-rpc",component:R},{path:"/ui/micro-rpc-conn",component:T},{path:"/ui/micro-rpc-pb",component:Q},{path:"/ui/micro-rpc-gw-pb",component:Y},{path:"/ui/micro-service",component:L},{path:"/ui/micro-protobuf",component:V},{path:"/ui/web-http-pb",component:H},{path:"/ui/yaml-config",component:te},{path:"/ui/download",component:f},{path:"/en/ui",component:ae},{path:"/en/ui/web-http",component:de},{path:"/en/ui/web-handler",component:pe},{path:"/en/ui/web-cache",component:he},{path:"/en/ui/web-dao",component:_e},{path:"/en/ui/web-model",component:we},{path:"/en/ui/micro-rpc",component:Ne},{path:"/en/ui/micro-rpc-conn",component:ze},{path:"/en/ui/micro-rpc-pb",component:Le},{path:"/en/ui/micro-rpc-gw-pb",component:Ve},{path:"/en/ui/micro-service",component:qe},{path:"/en/ui/micro-protobuf",component:Re},{path:"/en/ui/web-http-pb",component:Te},{path:"/en/ui/yaml-config",component:He},{path:"/en/ui/download",component:se}]}),Ke=(o("tvR6"),o("zL8q")),Qe=o.n(Ke),Xe=o("Dd8w"),Je=o.n(Xe),Ye=o("TXmL"),Ze=o("wUZ8"),et=o.n(Ze),tt=o("Vi3T"),ot=o.n(tt);r.default.use(Ye.a);var rt={en:Je()({},et.a,{navMenu:{webType:"Web",webHttp:"Create web service",microRpc:"Create grpc service",microType:"Microservice",webHttpPb:"Create web service",microRpcGwPb:"Create grpc gateway service",microrpcPb:"Create grpc service",microService:"Generate service CRUD code",wehHandler:"Generate handler CRUD code",webDao:"Generate dao CRUD code",webModel:"Generate model code",microProtobuf:"Generate protobuf CRUD code",yamlConfig:"Generate configuration code",microRpcConn:"Generate grpc connection code",webCache:"Generate cache code"},footer:{text1:"If it helps you, give it a ",text2:"",text3:""},home:{text1:"",text2:"Github: ",text3:"Documentation: ",text3_1:"Video tutorials: ",text4:"Sponge generates code framework diagrams.",text5:"Microservice service framework diagram."}}),cn:Je()({},ot.a,{navMenu:{webType:"Web",webHttp:"åˆ›å»ºwebæœåŠ¡",wehHandler:"ç”Ÿæˆhandler CRUDä»£ç ",microType:"å¾®æœåŠ¡",microRpc:"åˆ›å»ºgrpcæœåŠ¡",microService:"ç”Ÿæˆservice CRUDä»£ç ",webHttpPb:"åˆ›å»ºwebæœåŠ¡",microRpcGwPb:"åˆ›å»ºgrpcç½‘å…³æœåŠ¡",microrpcPb:"åˆ›å»ºgrpcæœåŠ¡",webDao:"ç”Ÿæˆdao CRUDä»£ç ",webModel:"ç”Ÿæˆmodelä»£ç ",microProtobuf:"ç”Ÿæˆprotobuf CRUDä»£ç ",yamlConfig:"ç”Ÿæˆconfigä»£ç ",microRpcConn:"ç”ŸæˆgrpcæœåŠ¡è¿æ¥ä»£ç ",webCache:"ç”Ÿæˆcacheä»£ç "},footer:{text1:"å¦‚æœå¯¹æ‚¨æœ‰å¸®åŠ©ç»™ä¸ª",text2:" ï¼Œæ¬¢è¿åŠ å…¥",text3:"go spongeå¾®ä¿¡äº¤æµç¾¤ã€‚"},home:{text1:"",text2:"é¡¹ç›®åœ°å€ï¼š",text3:"ä½¿ç”¨æ–‡æ¡£ï¼š",text3_1:"è§†é¢‘æ•™ç¨‹ï¼š",text4:"ç”Ÿæˆä»£ç æ¡†æ¶å›¾ï¼š",text5:"å¾®æœåŠ¡æ¡†æ¶å›¾ï¼š"}})},at=new Ye.a({locale:"cn",messages:rt});r.default.use(Qe.a,{i18n:function(e,t){return at.t(e,t)}}),r.default.config.productionTip=!1,new r.default({el:"#app",i18n:at,router:Oe,components:{App:l},template:"<App/>"})},"QRi+":function(e,t){},"QnW+":function(e,t){},RFzB:function(e,t){},X4KW:function(e,t,o){e.exports=o.p+"static/img/sponge-framework.968fade.png"},awZC:function(e,t){},bkKN:function(e,t){},e9zl:function(e,t){},ebUW:function(e,t,o){e.exports=o.p+"static/img/wechat.4ce8c69.jpg"},hIB5:function(e,t,o){e.exports=o.p+"static/img/go-sponge-logo.8d1efd3.png"},"j/ma":function(e,t){},"jO+a":function(e,t){},"jx/k":function(e,t){},kwe5:function(e,t){},lF9n:function(e,t){},nmI2:function(e,t){},ooM6:function(e,t){},oz9S:function(e,t){},qynW:function(e,t,o){e.exports=o.p+"static/img/microservices-framework.688c170.png"},s5ey:function(e,t){},s85v:function(e,t){},sLT0:function(e,t){},t3x0:function(e,t){},tvR6:function(e,t){},vhUg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.050e4b824a5634db92e7.js.map